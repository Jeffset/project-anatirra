import("//build/test.gni")

shared_library("base") {
  sources = [
    "macro.hpp",
    "nullable.hpp",
    "ref_ptr.cc",
    "ref_ptr.hpp",
    "weak_ref.cc",
    "weak_ref.hpp",
    "type_array.hpp",
    "util.hpp",
  ]
}

gtest_binary("base_tests") {
  sources = [
    "ref_ptr_unittest.cc",
    "weak_ref_unittest.cc",
  ]
  deps = [
    ":base",
  ]
}
